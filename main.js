"use strict";(self.webpackChunktodo_list=self.webpackChunktodo_list||[]).push([[179],{725:()=>{const e=function(e,t){return{getName:function(){return e},setName:function(t){e=t},getDeadline:function(){return t},setDeadline:function(e){t=e},getTask:function(){return{name:e,deadline:t}}}},t=function(t,n){return{getName:function(){return t},setName:function(e){t=e},taskList:(a=n,a=a?a.map((function(t){return e(t.name,t.deadline)})):[],n={add:function(t,n){var r=e(t,n);a.push(r)},remove:function(e){a.splice(e,1)},getTaskList:function(){return a.length<1?a:a.map((function(e){return e.getTask()}))}}),getProject:function(){return{name:t,taskList:n.getTaskList()}}};var a},n=function(){var e;e=localStorage.getItem("data")?JSON.parse(localStorage.getItem("data")).map((function(e){return t(e.name,e.taskList)})):[];var n={project:function(t){e.push(t),r(e)},task:function(t,n,a){e[t].taskList.add(n,a),r(e)}},a={project:function(t){e.splice(t,1),r(e)},task:function(t,n){e[t].taskList.remove(n),r(e)}},r=function(e){e=e.map((function(e){return e.getProject()})),localStorage.setItem("data",JSON.stringify(e))};return{add:n,remove:a,load:function(){return e.map((function(e){return e.getProject()}))}}}();var a=function(e){var a=e.currentTarget.parentNode.querySelector("#project-name").value,r=t(a);n.add.project(r),f.renderProject(),f.closeFormOnSubmit(e)};var r=function(e){var t=e.currentTarget.parentNode,a=t.parentNode.parentNode.dataset.index,r=t.querySelector("#task-name").value,c=t.querySelector("#task-deadline").value;n.add.task(a,r,c),f.renderTasks(a),f.closeFormOnSubmit(e)};var c=function(e){e.stopPropagation(),n.remove.project(e.currentTarget.parentNode.parentNode.dataset.index),f.renderProject()};var s=function(e){var t=e.currentTarget,a=t.parentNode.dataset.projectIndex,r=t.parentNode.dataset.taskIndex;n.remove.task(a,r),f.renderTasks(a)};var o,i,d,u,l,m,p,v,k;const f=(i=document.querySelector(".btn-create-project"),d=document.querySelector(".project-list"),u=function(e){e.currentTarget.parentNode.querySelector(".form")?m(e):l(e)},l=function(e){var t,n=e.currentTarget,c=n.parentNode;n.classList.contains("btn-create-project")&&(t=function(){var e=document.createElement("div");e.classList.add("form","form-create-project");var t=document.createElement("input");t.classList.add("form__input"),t.name="project-name",t.id="project-name",t.type="text",t.placeholder="Project Name";var n=document.createElement("button");return n.classList.add("btn","btn-submit"),n.innerHTML='<i class="material-icons-outlined">done</i>',n.addEventListener("click",a),e.append(t,n),e}()),n.classList.contains("btn-create-task")&&(t=function(){var e=document.createElement("div");e.classList.add("form","form-create-task");var t=document.createElement("input");t.classList.add("form__input"),t.name="task-name",t.id="task-name",t.type="text",t.placeholder="Task Name";var n=document.createElement("input");n.classList.add("form__input"),n.name="task-deadline",n.id="task-deadline",n.type="date",n.placeholder="mm/dd/yyyy";var a=document.createElement("button");return a.classList.add("btn","btn-submit"),a.innerHTML='<i class="material-icons-outlined">done</i>',a.addEventListener("click",r),e.append(t,n,a),e}()),c.append(t),n.innerHTML='<i class="material-icons-outlined">close</i>',n.classList.add("btn-close")},m=function(e){var t,n=e.currentTarget,a=e.currentTarget.nextElementSibling;n.classList.contains("btn-create-project")&&(t="Project"),n.classList.contains("btn-create-task")&&(t="Task"),n.textContent="Create ".concat(t),n.classList.remove("btn-close"),a.remove()},p=function(e){var t=e.currentTarget.parentNode;o=function(){var e=document.createElement("div");e.classList.add("tasks");var t=document.createElement("div");t.classList.add("tasks__tasklist");var n=document.createElement("button");return n.classList.add("btn","btn-create-task"),n.textContent="Create Task",n.addEventListener("click",f.formTrigger),e.append(t,n),e}(),t.append(o),k(t.dataset.index)},k=function(e){var t=n.load(),a=document.querySelector('.project[data-index="'.concat(e,'"]')).querySelector(".tasks__tasklist"),r=0;a.innerHTML="",t[e].taskList.forEach((function(t){var n=function(e,t,n,a){var r=document.createElement("div");r.classList.add("tasks__task"),r.dataset.projectIndex=e,r.dataset.taskIndex=t;var c=document.createElement("div");c.classList.add("tasks__task-details");var o=document.createElement("h4");o.classList.add("tasks__task-name"),o.textContent=n;var i=document.createElement("p");i.classList.add("tasks__task-deadline"),i.textContent=a,c.append(o,i);var d=document.createElement("button");return d.classList.add("btn","btn-remove","btn-remove-task"),d.innerHTML='<i class="material-icons-outlined">remove</i>',d.addEventListener("click",s),r.append(c,d),r}(e,r,t.name,t.deadline);a.append(n),r++}))},{init:function(){i.addEventListener("click",u),v()},formTrigger:u,closeFormOnSubmit:function(e){var t,n=e.currentTarget,a=n.parentNode.previousElementSibling;a.classList.contains("btn-create-project")&&(t="Project"),a.classList.contains("btn-create-task")&&(t="Task"),a.textContent="Create ".concat(t),a.classList.remove("btn-close"),n.parentNode.remove()},renderProject:v=function(){var e=n.load(),t=0;d.innerHTML="",e.forEach((function(e){d.append(function(e,t){var n=document.createElement("div");n.classList.add("project"),n.dataset.index=t;var a=document.createElement("div");a.classList.add("project__container"),a.addEventListener("click",f.tasklistTrigger);var r=document.createElement("h3");r.classList.add("project__name"),r.textContent=e;var s=document.createElement("button");return s.classList.add("btn","btn-remove","btn-remove-project"),s.innerHTML='<i class="material-icons-outlined">remove</i>',s.addEventListener("click",c),a.append(r,s),n.append(a),n}(e.name,t)),t++}))},renderTasks:k,tasklistTrigger:function(e){o&&(o=o.remove()),p(e)}});f.init()}},e=>{e(e.s=725)}]);